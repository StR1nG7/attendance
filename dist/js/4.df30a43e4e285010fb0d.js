(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5],{38:function(e,t,a){"use strict";var r=a(0),n=a.n(r);t.a=function(e){var t=e.title,a=e.icon,r=e.slideToggle;return n.a.createElement("div",{className:"item-card__icon",onClick:function(e){r&&r(e)}},n.a.createElement("span",null,t),"Рік"==t?"":" семестр",a&&n.a.createElement("i",{className:"material-icons"},a))}},40:function(e,t,a){"use strict";var r=a(0),n=a.n(r),i=function(e){var t=e.title,a=e.slideToggle,r=e.icon;return n.a.createElement("div",{className:"col-12 year__title",onClick:function(e){a(e)}},n.a.createElement("span",null,t," навчальний рік"),n.a.createElement("i",{className:"material-icons year__toggle"},r))};t.a=function(e){var t=e.children,a=e.title,l=Object(r.useState)(!0),o=l[0],s=l[1],c=Object(r.useState)("expand_less"),m=c[0],d=c[1],u=Object(r.useState)("auto"),f=u[0],b=u[1],p=Object(r.useState)("unset"),v=p[0],_=p[1],h=a.substr(0,4)+"-"+a.substr(4);return n.a.createElement("div",{className:"row year"},n.a.createElement(i,{title:h,slideToggle:function(e){o?(d("expand_more"),b("0"),_("hidden"),s(!o)):(d("expand_less"),b("auto"),_("unset"),s(!o))},icon:m}),n.a.createElement("div",{className:"col-12 year-inner",style:{height:f,overflow:v}},t))}},45:function(e,t,a){"use strict";a.r(t),a.d(t,"chartOptions",(function(){return b}));var r=a(0),n=a.n(r),i=a(7),l=a(41),o=a.n(l),s=a(40),c=a(38),m=function(e){var t=e.title,a=e.color,r=e.rowsComponents,i=e.slideToggle,l=e.icon,o=e.display;return n.a.createElement("div",{className:"item-card item-card--"+a},n.a.createElement(c.a,{title:t,icon:l,slideToggle:i}),n.a.createElement("div",{className:"item-card-table",style:{display:o}},n.a.createElement("div",{className:"item-card-table__head"},n.a.createElement("div",{className:"item-card-table__row"},n.a.createElement("div",{className:"item-card-table__cell"},"Клас"),n.a.createElement("div",{className:"item-card-table__cell"},"Всього"),n.a.createElement("div",{className:"item-card-table__cell"},"По хворобі"),n.a.createElement("div",{className:"item-card-table__cell"},"З поважних причин"),n.a.createElement("div",{className:"item-card-table__cell"},"Без поважних причин"),n.a.createElement("div",{className:"item-card-table__cell"},"Не відвідують"),n.a.createElement("div",{className:"item-card-table__cell"},"Інші"))),n.a.createElement("div",{className:"item-card-table__body"},r)))},d=function(e){var t=e.title,a=e.rowData;return n.a.createElement("div",{className:"item-card-table__row"},n.a.createElement("div",{className:"item-card-table__cell"},t),n.a.createElement("div",{className:"item-card-table__cell"},a.total),n.a.createElement("div",{className:"item-card-table__cell"},a.disease),n.a.createElement("div",{className:"item-card-table__cell"},a.seriousReasons),n.a.createElement("div",{className:"item-card-table__cell"},a.notSeriousReasons),n.a.createElement("div",{className:"item-card-table__cell"},a.noVisit),n.a.createElement("div",{className:"item-card-table__cell"},a.other))},u=function(e){var t=e.title,a=e.color,i=e.cardData,l=[];for(var o in i){var s=i[o];l.push(n.a.createElement(d,{key:o,title:o,rowData:s}))}l.sort((function(e,t){var a=e.key,r=t.key,n=+a.substring(0,a.length-2),i=+r.substring(0,r.length-2);if(n<i||"Всього"===e.key||"Всього"===t.key)return-1;if(n>i)return 1;if(n===i){var l=a.substring(a.length-2),o=r.substring(r.length-2);if(l<o)return-1;if(l>o)return 1}return 0}));var c=Object(r.useState)(!0),u=c[0],f=c[1],b=Object(r.useState)("expand_less"),p=b[0],v=b[1],_=Object(r.useState)("auto"),h=_[0],x=_[1];return n.a.createElement(m,{title:t,color:a,rowsComponents:l,slideToggle:function(e){u?(v("expand_more"),x("none"),f(!u)):(v("expand_less"),x("flex"),f(!u))},icon:p,display:h})},f=function(){return(f=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},b={chart:{type:"donut",fontFamily:"Roboto, Helvetica, Arial, sans-serif"},plotOptions:{pie:{customScale:1,expandOnClick:!1,donut:{size:"58%"}}},title:{align:"center",margin:5,style:{fontSize:"14px",fontWeight:"500",fontFamily:"Roboto, Helvetica, Arial, sans-serif",color:"#263238"}},legend:{position:"bottom",offsetY:-5},dataLabels:{enabled:!0,style:{fontWeight:"500",colors:["#fff"]},background:{enabled:!0,foreColor:"#3c4858",borderWidth:0},dropShadow:{enabled:!1}},labels:["По хворобі","З поважних причин","Без поважних причин"],colors:["#66bb6a","#ffa726","#00cae3"],fill:{type:"solid"},stroke:{show:!1},responsive:[{breakpoint:576,options:{chart:{width:"100%",offsetX:0},legend:{width:"100%",offsetX:0}}},{breakpoint:768,options:{chart:{width:270,offsetX:-60},legend:{width:200,offsetX:10}}},{breakpoint:992,options:{chart:{width:290,offsetX:-45}}},{breakpoint:1200,options:{chart:{width:350,offsetX:-38}}}]};t.default=function(){var e,t,a,r,l=Object(i.c)((function(e){return e.yearsData})),c=[],m={},d={};for(var p in l){var v=l[p],_=v.firstSemester["Всього"];for(e in m[p]=[],d[p]=[],v){switch(e){case"firstSemester":t="1 семестр",a="1",r="orange";break;case"secondSemester":t="2 семестр",a="2",r="green";break;case"year":t=a="Рік",r="red"}if(_){var h=+v[e]["Всього"].disease,x=+v[e]["Всього"].seriousReasons,w=+v[e]["Всього"].notSeriousReasons;0==h&&0==x&&0==w||m[p].push(n.a.createElement("div",{className:"col-12 col-sm-4",key:"chart-"+p+e},n.a.createElement(o.a,{options:f(f({},b),{title:f(f({},b.title),{text:t})}),series:[h,x,w],type:"donut",width:"100%"})))}d[p].push(n.a.createElement(u,{key:"itemcard-"+p+e,title:a,color:r,cardData:v[e]}))}c.unshift(n.a.createElement(s.a,{key:p,title:p},_&&n.a.createElement("div",{className:"row chart-row"},m[p]),d[p]))}return n.a.createElement(n.a.Fragment,null,c)}},50:function(e,t,a){"use strict";var r=a(21),n=a.n(r)()(!1);n.push([e.i,".avatar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:20px}.avatar__name{width:55px;height:55px;border-radius:50%;border:3px solid #66bb6a;font-size:1.125em;font-weight:400;line-height:50px;text-align:center}.item-card__fieldset{-webkit-box-orient:vertical;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin:0;padding:0;border:none}.item-card__fieldset,.item-card__label{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}.item-card__label{position:relative;-webkit-box-orient:horizontal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;font-size:.875rem}@media (min-width:768px){.item-card__label{font-size:1.125rem}}@media (min-width:992px){.item-card__label{font-size:1rem}}@media (min-width:1200px){.item-card__label{font-size:1.125rem}}.item-card__label:not(:last-child){margin-bottom:10px}@media (max-width:767px){.item-card__name{width:calc(100% - 80px)}}.item-card__value{width:65px;padding:5px;border:1px solid #b2b2b2;border-radius:3px;text-align:center}@media (min-width:768px){.item-card__value{width:75px;padding:8px 5px}}.item-card__value:focus{border-color:#00cae3}.item-card__value:-moz-read-only{font-weight:300;border-color:transparent;background:none}.item-card__value:read-only{font-weight:300;border-color:transparent;background:none}.item-card__error{position:absolute;top:calc(100% + 6px);right:0;z-index:999}.item-card__error-arrow{position:absolute;top:0;right:15px;transform:translateY(-80%) rotate(45deg);width:10px;height:10px;z-index:-1}.item-card__error-arrow,.item-card__error-value{background-color:#fff;-webkit-box-shadow:0 1px 4px 0 rgba(0,0,0,.4);box-shadow:0 1px 4px 0 rgba(0,0,0,.4)}.item-card__error-value{padding:5px 8px;font-size:1rem;color:red;border-radius:3px}.item-card__result{width:80px;text-align:center}",""]),t.a=n},51:function(e,t,a){"use strict";var r=a(21),n=a.n(r)()(!1);n.push([e.i,".form-submit{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:42px;margin-top:20px;font-size:1rem;font-weight:300;color:#fff;background-color:#55b559;border-radius:6px;cursor:pointer}@media (min-width:768px){.form-submit{height:46px;font-size:1.125rem}}@media (min-width:992px){.form-submit{height:52px;margin-top:30px;font-size:1.25rem}}.form-submit:hover{background-color:#60ba63}.form-submit:active{background-color:#67bd6a}.form-submit:disabled{background-color:#f2f2f2;color:#b2b2b2}.form-submit__icon{display:none;width:30px;margin-right:-30px}.form-submit__icon polyline{fill:none;stroke:#fff;stroke-width:12;stroke-miterlimit:10;stroke-dasharray:0,154}.form-submit__icon--animate{display:inline-block;margin-left:15px}.form-submit__icon--animate polyline{-webkit-animation:submitted .6s ease-in-out 1 forwards;animation:submitted .6s ease-in-out 1 forwards}@-webkit-keyframes submitted{0%{stroke-dasharray:0,154}to{stroke-dasharray:140,154}}@keyframes submitted{0%{stroke-dasharray:0,154}to{stroke-dasharray:140,154}}",""]),t.a=n},53:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(7),l=a(39),o=a(41),s=a.n(o),c=a(45),m=a(20),d=a.n(m),u=a(50),f={insert:"head",singleton:!1},b=(d()(u.a,f),u.a.locals,a(40)),p=a(38),v=function(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var r=Array(e),n=0;for(t=0;t<a;t++)for(var i=arguments[t],l=0,o=i.length;l<o;l++,n++)r[n]=i[l];return r},_=function(e){var t,a,i,o,s=e.name,c=e.period,m=e.resultValueName,d=e.value,u=e.validate,f=Object(l.c)().setFieldValue,b=Object(l.c)().values,p=[];return"other"==m?(t=+b[c].notSeriousReasons,a=+b[c].noVisit,o=t-a,p=[t,a]):"total"==m&&(t=+b[c].disease,a=+b[c].seriousReasons,i=+b[c].notSeriousReasons,o=t+a+i,p=[t,a,i]),"year"==c&&(t=+b.firstSemester[m],a=+b.secondSemester[m],o=t+a,p=[t,a]),Object(r.useEffect)((function(){f(s,o)}),v(p,[f,s])),n.a.createElement(l.a,{type:"text",className:"item-card__value",name:s,validate:u,value:""===d||isNaN(+d)?"Error":d,readOnly:!0})},h=function(e){var t=e.error;return n.a.createElement("div",{className:"item-card__error"},n.a.createElement("span",{className:"item-card__error-arrow"}),n.a.createElement("span",{className:"item-card__error-value"},t))},x=function(e){var t,a,r,i,o,s,c,m,d,u,f,b,v=e.title,x=e.name,w=e.color,g=e.cardData,y=Object(l.c)().errors,E=function(e){var t;+e<0&&(t="Від'ємне число!");var a=e.replace(/\s/g,"");return(""===e||""===a||isNaN(+e))&&(t="Введіть число!"),t},k=function(e){var t;return+e<0&&(t="Від'ємне число!"),t};return n.a.createElement("div",{className:"col-12 col-sm-6 col-lg-4 mx-auto"},n.a.createElement("div",{className:"item-card item-card--"+w},n.a.createElement(p.a,{title:v}),n.a.createElement("fieldset",{className:"item-card__fieldset"},n.a.createElement("label",{className:"item-card__label"},n.a.createElement("span",{className:"item-card__name"},"По хворобі"),"year"!=x?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,{type:"text",className:"item-card__value",name:x+".disease",validate:E}),(null===(t=y[x])||void 0===t?void 0:t.disease)&&n.a.createElement(h,{error:null===(a=y[x])||void 0===a?void 0:a.disease})):n.a.createElement(_,{name:x+".disease",period:x,resultValueName:"disease",validate:k,value:g.disease})),n.a.createElement("label",{className:"item-card__label"},n.a.createElement("span",{className:"item-card__name"},"З поважних причин"),"year"!=x?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,{type:"text",className:"item-card__value",name:x+".seriousReasons",validate:E}),(null===(r=y[x])||void 0===r?void 0:r.seriousReasons)&&n.a.createElement(h,{error:null===(i=y[x])||void 0===i?void 0:i.seriousReasons})):n.a.createElement(_,{name:x+".seriousReasons",period:x,resultValueName:"seriousReasons",validate:k,value:g.seriousReasons})),n.a.createElement("label",{className:"item-card__label"},n.a.createElement("span",{className:"item-card__name"},"Без поважних причин"),"year"!=x?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,{type:"text",className:"item-card__value",name:x+".notSeriousReasons",validate:E}),(null===(o=y[x])||void 0===o?void 0:o.notSeriousReasons)&&n.a.createElement(h,{error:null===(s=y[x])||void 0===s?void 0:s.notSeriousReasons})):n.a.createElement(_,{name:x+".notSeriousReasons",period:x,resultValueName:"notSeriousReasons",validate:k,value:g.notSeriousReasons})),n.a.createElement("label",{className:"item-card__label",style:{paddingLeft:15}},n.a.createElement("span",{className:"item-card__name"},"Не відвідують"),"year"!=x?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,{type:"text",className:"item-card__value",name:x+".noVisit",validate:E}),(null===(c=y[x])||void 0===c?void 0:c.noVisit)&&n.a.createElement(h,{error:null===(m=y[x])||void 0===m?void 0:m.noVisit})):n.a.createElement(_,{name:x+".noVisit",period:x,resultValueName:"noVisit",validate:k,value:g.noVisit})),n.a.createElement("label",{className:"item-card__label",style:{paddingLeft:15}},n.a.createElement("span",{className:"item-card__name"},"Інші"),n.a.createElement(_,{name:x+".other",period:x,resultValueName:"other",validate:k,value:g.other}),(null===(d=y[x])||void 0===d?void 0:d.other)&&n.a.createElement(h,{error:null===(u=y[x])||void 0===u?void 0:u.other})),n.a.createElement("label",{className:"item-card__label"},n.a.createElement("span",{className:"item-card__name"},"Всього"),n.a.createElement(_,{name:x+".total",period:x,resultValueName:"total",validate:k,value:g.total}),(null===(f=y[x])||void 0===f?void 0:f.total)&&n.a.createElement(h,{error:null===(b=y[x])||void 0===b?void 0:b.total})))))},w=a(51),g={insert:"head",singleton:!1},y=(d()(w.a,g),w.a.locals,function(e){var t=e.id,a=e.disabled,r=e.animateButton;return n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{type:"submit",className:"form-submit",disabled:a},n.a.createElement("span",{className:"form-submit__text"},r==t?"Збережено":"Зберегти"),n.a.createElement("svg",{version:"1.1",className:r==t?"form-submit__icon form-submit__icon--animate":"form-submit__icon",x:"0px",y:"0px",viewBox:"0 0 100 100",xmlSpace:"preserve"},n.a.createElement("polyline",{points:"3.5,51.5 40.5,82.5 96.7,15.3 "}))))}),E=function(e){var t=e.id,a=e.disabled,r=Object(i.c)((function(e){return e.animateButton}));return n.a.createElement(y,{id:t,disabled:a,animateButton:r})},k=a(12),N=function(){return(N=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},S=function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function l(e){try{s(r.next(e))}catch(e){i(e)}}function o(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((r=r.apply(e,t||[])).next())}))},O=function(e,t){var a,r,n,i,l={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(n=l.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){l.label=i[1];break}if(6===i[0]&&l.label<n[1]){l.label=n[1],n=i;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(i);break}n[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}};t.default=function(){var e,t,a=Object(i.c)((function(e){return e.authData})).login,r=Object(i.c)((function(e){return e.yearsData})),o=Object(i.b)(),m={disease:"0",seriousReasons:"0",notSeriousReasons:"0",noVisit:"0",other:"0",total:"0"},d=[],u={},f=function(i){var f=r[i],p=f.firstSemester[a],v=f.secondSemester[a],_=f.year[a],h="button"+i;for(e in u[i]=[],f){switch(e){case"firstSemester":t="1 семестр";break;case"secondSemester":t="2 семестр";break;case"year":t="Рік"}if(p){var w=+f[e][a].disease,g=+f[e][a].seriousReasons,y=+f[e][a].notSeriousReasons;0==w&&0==g&&0==y||u[i].push(n.a.createElement("div",{className:"col-12 col-sm-4",key:"chart-"+i+e},n.a.createElement(s.a,{options:N(N({},c.chartOptions),{title:N(N({},c.chartOptions.title),{text:t})}),series:[w,g,y],type:"donut",width:"100%"})))}}d.unshift(n.a.createElement(b.a,{key:i,title:i},p&&n.a.createElement("div",{className:"row chart-row"},u[i]),n.a.createElement(l.b,{initialValues:{firstSemester:p||m,secondSemester:v||m,year:_||m},onSubmit:function(e){return S(void 0,void 0,void 0,(function(){var t;return O(this,(function(r){switch(r.label){case 0:return t=N({formYear:i,currentUserClass:a},e),[4,o(Object(k.c)(t,h))];case 1:return r.sent(),[2]}}))}))}},(function(e){var t=e.values,a=e.errors,r=e.isSubmitting,l=e.handleSubmit;return n.a.createElement("form",{id:"form"+i,className:"row item-card__form",onSubmit:l},n.a.createElement(x,{title:"1",name:"firstSemester",color:"orange",cardData:t.firstSemester}),n.a.createElement(x,{title:"2",name:"secondSemester",color:"green",cardData:t.secondSemester}),n.a.createElement(x,{title:"Рік",name:"year",color:"red",cardData:t.year}),n.a.createElement(E,{id:h,disabled:r||0!=Object.keys(a).length}))}))))};for(var p in r)f(p);return n.a.createElement(n.a.Fragment,null,d)}}}]);